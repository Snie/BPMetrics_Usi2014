<link rel="import" href="bower_components/polymer/polymer.html">
<link rel="import" href="./service/model-service.html">
<link rel="import" href="metric-card.html">
<link rel="import" href="side-card.html">
<link rel="import"
      href="../bower_components/core-menu/core-menu.html">
<link rel="import"
      href="../bower_components/core-menu/core-submenu.html">
<link rel="import"
      href="../bower_components/core-item/core-item.html">
<script src="bower_components/chartjs/Chart.js"></script>


<polymer-element name="side-list" attributes="selected">
    <template>
        <style>
            :host {
                display: block;
                width:100%;
            }
        </style>

        <model-service id='posts' posts="{{posts}}">
        </model-service>

        <div horizontal layout center-justified wrap>
            <template repeat="{{post in posts}}">
                <side-card post="{{post}}" on-mouseover="{{onHovered}}" on-mouseout='{{onUnhovered}}'>
                    <h2>{{post | nameGenerator}}</h2>
                </side-card>
            </template>
        </div>

    </template>

    <script>
        var x = 0;
        Polymer('side-list', {
            onHovered: function(event, detail, sender) {
                sender.showR = true;
            },
            onUnhovered: function(event, detail, sender){
                sender.showR = false;
            },
            nameGenerator: function(post){
                if(post.models.length <= 1){
                    return post.models[0].name;
                }
                else {
                    x += 1;
                    return 'collection ' + x;
                }
            }
        });
    </script>
</polymer-element>
